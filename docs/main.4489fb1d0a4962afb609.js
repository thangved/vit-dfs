(()=>{"use strict";var t={740:(t,e,n)=>{n.d(e,{Z:()=>v});var i=n(81),a=n.n(i),s=n(645),r=n.n(s),o=n(667),l=n.n(o),c=new URL(n(2),n.b),h=new URL(n(52),n.b),p=new URL(n(766),n.b),d=new URL(n(134),n.b),u=new URL(n(938),n.b),m=r()(a());m.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Kanit:ital,wght@0,100;0,200;0,300;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap);"]);var f=l()(c),g=l()(h),b=l()(p),x=l()(d),y=l()(u);m.push([t.id,'* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nhtml {\n  font-family: "Kanit", sans-serif;\n}\n\nbody {\n  width: 100%;\n  min-height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: url('+f+") repeat;\n  background-size: 50px;\n  padding: 40px;\n  flex-wrap: wrap;\n}\n\n.maze-game {\n  position: relative;\n  background: url("+g+") repeat;\n  background-size: 150px;\n  animation: sprite_bg 5s linear infinite;\n  border-radius: 10px;\n}\n\n.maze-row {\n  display: flex;\n}\n\n.maze-cell {\n  transition: 0.4s ease;\n}\n\n.maze-cell.maze-grass {\n  background: url("+b+") no-repeat;\n  background-size: cover;\n  position: relative;\n  transition: 0.4s ease;\n}\n\n@keyframes sprite_bg {\n  from {\n  }\n  to {\n    background-position: 100px 0;\n  }\n}\n\n.maze-character {\n  position: absolute;\n  background: url("+x+") no-repeat;\n  background-size: contain;\n  transition: 0.4s ease;\n  animation: sprite_character 1s infinite alternate;\n  filter: drop-shadow(0 2px 2px #00000050);\n}\n\n@keyframes sprite_character {\n  from {\n  }\n  to {\n    transform: translateY(-5px);\n  }\n}\n\n.maze-flag {\n  position: absolute;\n  background: url("+y+") no-repeat;\n  background-size: contain;\n  background-position: center;\n  opacity: 0.9;\n}\n\n.maze-next {\n  background: #5010ff32;\n}\n\n.maze-pop {\n  background: #ff00005d;\n}\n\n.maze-success {\n  background: #2288008f;\n}\n\n.game-menu {\n  margin: 20px;\n  height: 100%;\n  background: #ffffff;\n  border-radius: 10px;\n  overflow: hidden;\n  min-width: 300px;\n  transition: 0.4s ease;\n  box-shadow: 0 0 40px #00000020;\n}\n\n.game-menu-header {\n  padding: 10px 20px;\n  background: #00000005;\n  border-bottom: 1px solid #ddd;\n}\n\n.game-menu-body {\n  padding: 10px 20px;\n}\n\n.game-menu-row {\n  display: flex;\n  align-items: center;\n  padding: 10px 0;\n}\n\n.game-menu span {\n  margin-left: 15px;\n}\n\n.game-menu-row + .game-menu-row {\n  border-top: 1px solid #ddd;\n}\n\n.game-menu-row input {\n  flex: 1;\n  margin: 0 20px;\n}\n\n.game-menu-footer {\n  padding: 10px 20px;\n  background: #00000005;\n  border-top: 1px solid #ddd;\n}\n\n.game-menu-footer a {\n  color: #aaa;\n  text-align: center;\n  display: block;\n}\n\n.button {\n  padding: 10px 15px;\n  min-width: 150px;\n  color: #fff;\n  background: #5757ff;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  font-weight: 900;\n  box-shadow: 0 5px 0 #000039;\n  transition: 0.4s ease;\n}\n\n.button + .button {\n  margin-left: 10px;\n}\n\n.button:hover {\n  opacity: 0.9;\n}\n\n.button:active {\n  box-shadow: 0 2px 0 #000039;\n  transform: translateY(3px);\n}\n\n.button-danger {\n  background: #ff1b6b;\n}\n\n.maze-login {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: #fff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  transition: 1s ease;\n  clip-path: circle(100%);\n}\n\n.maze-login.hide {\n  clip-path: circle(0% at top center);\n}\n\n.maze-login-vit {\n  width: 20%;\n  animation: dfs_animation 9.4s ease infinite alternate;\n}\n\n.maze-login-duck {\n  width: 10%;\n  animation: vit_animation 1s ease infinite alternate;\n}\n\n.maze-login-dfs {\n  width: 40%;\n  animation: dfs_animation 9.4s ease infinite alternate;\n}\n\n.maze-login-row {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.maze-login-play-btn {\n  min-width: 150px;\n  cursor: pointer;\n  transition: 0.4s ease;\n  margin-top: 20px;\n  padding: 12px;\n  font-weight: 900;\n  background: linear-gradient(#ceff1e, #2fd31a, #05a200);\n  color: #fff;\n  border-radius: 5px;\n  border: none;\n  box-shadow: 0 10px 0px #024400;\n  text-transform: uppercase;\n  font-size: 20px;\n}\n\n.maze-login-play-btn:active {\n  transform: translateY(8px);\n  box-shadow: 0 1px 0px #024400;\n}\n\n.maze-login-play-btn strong {\n  margin-right: 10px;\n}\n\n@keyframes vit_animation {\n  0%,\n  99% {\n  }\n  100% {\n    transform: rotate(10deg);\n  }\n}\n\n@keyframes dfs_animation {\n  from {\n  }\n  to {\n    transform: translateY(20px);\n  }\n}\n\n.modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  background: #000000aa;\n  visibility: hidden;\n  opacity: 0;\n  transition: 0.4s ease;\n}\n\n.modal.show {\n  visibility: visible;\n  opacity: 1;\n}\n\n.modal .game-menu {\n  height: auto;\n}\n\n.modal img {\n  border-radius: 100px;\n  margin-right: 10px;\n}\n",""]);const v=m},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",i=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),i&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),i&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,i,a,s){"string"==typeof t&&(t=[[null,t,void 0]]);var r={};if(i)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(r[l]=!0)}for(var c=0;c<t.length;c++){var h=[].concat(t[c]);i&&r[h[0]]||(void 0!==s&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=s),n&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=n):h[2]=n),a&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=a):h[4]="".concat(a)),e.push(h))}},e}},667:t=>{t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},81:t=>{t.exports=function(t){return t[1]}},379:t=>{var e=[];function n(t){for(var n=-1,i=0;i<e.length;i++)if(e[i].identifier===t){n=i;break}return n}function i(t,i){for(var s={},r=[],o=0;o<t.length;o++){var l=t[o],c=i.base?l[0]+i.base:l[0],h=s[c]||0,p="".concat(c," ").concat(h);s[c]=h+1;var d=n(p),u={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)e[d].references++,e[d].updater(u);else{var m=a(u,i);i.byIndex=o,e.splice(o,0,{identifier:p,updater:m,references:1})}r.push(p)}return r}function a(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,a){var s=i(t=t||[],a=a||{});return function(t){t=t||[];for(var r=0;r<s.length;r++){var o=n(s[r]);e[o].references--}for(var l=i(t,a),c=0;c<s.length;c++){var h=n(s[c]);0===e[h].references&&(e[h].updater(),e.splice(h,1))}s=l}}},569:t=>{var e={};t.exports=function(t,n){var i=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,a&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(i,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},134:(t,e,n)=>{t.exports=n.p+"b1aa7409325f71cb6304.png"},938:(t,e,n)=>{t.exports=n.p+"df61fbb1c9e83d6096e9.png"},766:(t,e,n)=>{t.exports=n.p+"74c9b8d0b85f75b482d5.png"},2:(t,e,n)=>{t.exports=n.p+"fcbbd3d5443b427e26e6.png"},52:(t,e,n)=>{t.exports=n.p+"aaaa933f662eb3e9cd58.png"}},e={};function n(i){var a=e[i];if(void 0!==a)return a.exports;var s=e[i]={id:i,exports:{}};return t[i](s,s.exports,n),s.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");i.length&&(t=i[i.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{var t=n(379),e=n.n(t),i=n(795),a=n.n(i),s=n(569),r=n.n(s),o=n(565),l=n.n(o),c=n(216),h=n.n(c),p=n(589),d=n.n(p),u=n(740),m={};m.styleTagTransform=d(),m.setAttributes=l(),m.insert=r().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=h(),e()(u.Z,m),u.Z&&u.Z.locals&&u.Z.locals;const f=class{constructor(t=[[]],e=[0,0],n=[t.length-1,t[0].length-1]){this.map=t,this.start=e,this.target=n,this.hashed={},this.steps=[],this.path=[]}isGoal(t=[]){return t[0]===this.target[0]&&t[1]===this.target[1]}distance(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}findNextStates(t){const e=[];return t[1]&&!this.map[t[0]][t[1]-1]&&e.push([t[0],t[1]-1]),t[1]==this.map[0]?.length-1||this.map[t[0]][t[1]+1]||e.push([t[0],t[1]+1]),t[0]&&!this.map[t[0]-1][t[1]]&&e.push([t[0]-1,t[1]]),t[0]==this.map.length-1||this.map[t[0]+1][t[1]]||e.push([t[0]+1,t[1]]),e.sort(((t,e)=>this.distance(t,this.target)-this.distance(e,this.target)))}dfs(t=this.start){if(this.path.push(t),this.isGoal(t))return this.steps.push({current:t,nextStates:[]}),!0;this.hashed[t[0]]||(this.hashed[t[0]]={}),this.hashed[t[0]][t[1]]=!0;const e=this.findNextStates(t),n={current:t,nextStates:[],pops:[]};this.steps.push(n);for(const t of e)if((!this.hashed[t[0]]||!this.hashed[t[0]][t[1]])&&(n.nextStates.push(t),this.dfs(t)))return!0;return this.steps.push({current:t,nextStates:[],pops:[t]}),this.path.pop(),!1}startDfs(){return this.path=[],this.steps=[],this.hashed={},this.dfs()}},g=n.p+"dff4f75ea1b2918eb572b22e31776eee.mp3",b=n.p+"1410a48041d5794e34358a9696b4611c.mp3",x=n.p+"96d28abc64c4561be07df7da092789e5.mp3",y=n.p+"9b5b1a6223e1057f889880c41f2a324e.wav",v=n.p+"2604a56c761e9cbfc005832e0193974c.wav",w=new class{constructor(t,e=new f,{cellSize:n,delay:i}={}){this.audio=new class{constructor(){this.swimming=new Audio(g),this.theme=new Audio(b),this.return=new Audio(x),this.win=new Audio(y),this.click=new Audio(v),this.theme.loop=!0}},this.element=t,this.init(e,{cellSize:n,delay:i})}init(t=new f,{cellSize:e=50,delay:n=500}={}){try{this.audio.theme.play()}catch(t){}clearInterval(this.interval),this.cellSize=e,this.maze=t,this.current=t.start,this.delay=n,this.element.innerHTML="",this.element.innerHTML+=`<div class="maze-flag" style="width: ${this.cellSize}px; height: ${this.cellSize}px; top: ${this.cellSize*this.maze.target[0]}px; left: ${this.cellSize*this.maze.target[1]}px"></div>`;for(const t of this.maze.map){const e=document.createElement("div");e.classList.add("maze-row");for(const n of t)e.innerHTML+=`<div class="maze-cell${n?" maze-grass":""}" style="width: ${this.cellSize}px; height: ${this.cellSize}px;"></div>`;this.element.append(e)}this.character=document.createElement("div"),this.character.classList.add("maze-character"),this.character.style.width=this.cellSize+"px",this.character.style.height=this.cellSize+"px",this.element.append(this.character),this.render()}render(){this.character.style.top=this.cellSize*this.current[0]+"px",this.character.style.left=this.cellSize*this.current[1]+"px"}goto(t){this.current=t,this.render()}drawRect(t=[],e="maze-next"){this.element.querySelectorAll(".maze-row")[t[0]].querySelectorAll(".maze-cell")[t[1]].classList.add(e)}drawRects(t=[],e){t.forEach((t=>this.drawRect(t,e)))}play(){this.audio.theme.pause(),clearInterval(this.interval),this.drawRect(this.current),this.maze.startDfs();const t=this.maze.steps,e=this.maze.path;console.log(e),this.interval=setInterval((()=>{const n=t.shift();if(!n)return this.audio.win.play(),clearInterval(this.interval),void(this.interval=setInterval((()=>{const t=e.pop();if(!t)return clearInterval(this.interval);this.drawRect(t,"maze-success")}),this.delay/10));n.pops?.length?this.audio.return.play():this.audio.swimming.play(),this.goto(n.current),this.drawRects(n.nextStates,"maze-next"),this.drawRects(n.pops,"maze-pop")}),this.delay)}}(document.getElementById("maze-game"));function z(t,e,n){const{map:i,start:a,target:s,rows:r,cols:o}=function(t=10,e=10){const n=new class{constructor(t,e){this.width=t,this.height=e,this.cols=2*this.width+1,this.rows=2*this.height+1,this.maze=this.initArray([]),this.maze.forEach(((t,e)=>{if(t.forEach(((t,n)=>{switch(e){case 0:case this.rows-1:this.maze[e][n]=["wall"];break;default:e%2==1?0!=n&&n!=this.cols-1||(this.maze[e][n]=["wall"]):n%2==0&&(this.maze[e][n]=["wall"])}})),0==e){let t=this.posToSpace(this.rand(1,this.width));this.maze[e][t]=["door","exit"]}if(e==this.rows-1){let t=this.posToSpace(this.rand(1,this.width));this.maze[e][t]=["door","entrance"]}})),this.partition(1,this.height-1,1,this.width-1)}initArray(t){return new Array(this.rows).fill().map((()=>new Array(this.cols).fill(t)))}rand(t,e){return t+Math.floor(Math.random()*(1+e-t))}posToSpace(t){return 2*(t-1)+1}posToWall(t){return 2*t}inBounds(t,e){return void 0!==this.maze[t]&&void 0!==this.maze[t][e]}shuffle(t){for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}return t}partition(t,e,n,i){let a,s,r,o,l,c;if(e<t||i<n)return!1;t==e?a=t:(r=t+1,o=e-1,l=Math.round(r+(o-r)/4),c=Math.round(r+3*(o-r)/4),a=this.rand(l,c)),n==i?s=n:(r=n+1,o=i-1,l=Math.round(r+(o-r)/3),c=Math.round(r+2*(o-r)/3),s=this.rand(l,c));for(let r=this.posToWall(t)-1;r<=this.posToWall(e)+1;r++)for(let t=this.posToWall(n)-1;t<=this.posToWall(i)+1;t++)r!=this.posToWall(a)&&t!=this.posToWall(s)||(this.maze[r][t]=["wall"]);let h=this.shuffle([!0,!0,!0,!1]);if(h[0]){let t=this.rand(n,s);this.maze[this.posToWall(a)][this.posToSpace(t)]=[]}if(h[1]){let t=this.rand(s+1,i+1);this.maze[this.posToWall(a)][this.posToSpace(t)]=[]}if(h[2]){let e=this.rand(t,a);this.maze[this.posToSpace(e)][this.posToWall(s)]=[]}if(h[3]){let t=this.rand(a+1,e+1);this.maze[this.posToSpace(t)][this.posToWall(s)]=[]}this.partition(t,a-1,n,s-1),this.partition(a+1,e,n,s-1),this.partition(t,a-1,s+1,i),this.partition(a+1,e,s+1,i)}isGap(...t){return t.every((t=>{let e,n;return[e,n]=t,!(this.maze[e][n].length>0&&!this.maze[e][n].includes("door"))}))}countSteps(t,e,n,i,a){return!!this.inBounds(e,n)&&!(t[e][n]<=i)&&!!this.isGap([e,n])&&(t[e][n]=i,!!this.maze[e][n].includes(a)||(this.countSteps(t,e-1,n,i+1,a),this.countSteps(t,e,n+1,i+1,a),this.countSteps(t,e+1,n,i+1,a),void this.countSteps(t,e,n-1,i+1,a)))}getKeyLocation(){let t=this.initArray(),e=this.initArray();this.totalSteps=-1;for(let n=1;n<this.cols-1;n++)this.maze[this.rows-1][n].includes("entrance")&&this.countSteps(t,this.rows-1,n,0,"exit"),this.maze[0][n].includes("exit")&&this.countSteps(e,0,n,0,"entrance");let n=-1,i=-1;return this.maze.forEach(((a,s)=>{a.forEach(((a,r)=>{if(void 0===t[s][r])return;let o=t[s][r]+e[s][r];o>this.totalSteps&&(i=s,n=r,this.totalSteps=o)}))})),[i,n]}placeKey(){let t,e;[t,e]=this.getKeyLocation(),this.maze[t][e]=["key"]}display(t){if(this.parentDiv=document.getElementById(t),!this.parentDiv)return alert('Cannot initialise maze - no element found with id "'+t+'"'),!1;for(;this.parentDiv.firstChild;)this.parentDiv.removeChild(this.parentDiv.firstChild);const e=document.createElement("div");return e.id="maze",e.dataset.steps=this.totalSteps,this.maze.forEach((t=>{let n=document.createElement("div");t.forEach((t=>{let e=document.createElement("div");t&&(e.className=t.join(" ")),n.appendChild(e)})),e.appendChild(n)})),this.parentDiv.appendChild(e),!0}}(e,t);let i=null,a=null;const s=[];for(let t=0;t<n.maze[0].length;t++){s.push([]);for(let e=0;e<n.maze.length;e++){const r=n.maze[e][t].length;2!==r?s[t].push(r):(s[t].push(0),e?a=[t,e]:i=[t,e])}}return{map:s,start:i,target:a,rows:n.rows,cols:n.cols}}(t,e),l=new f(i,a,s);w.init(l,{cellSize:Math.min((document.body.offsetHeight-80)/o,(document.body.offsetWidth-80)/r),delay:n})}function S(){z(Number(document.getElementById("maze-width").nextElementSibling.value),Number(document.getElementById("maze-height").nextElementSibling.value),Number(document.getElementById("maze-delay").nextElementSibling.value))}z(),document.getElementById("maze-accept").addEventListener("click",S),document.getElementById("maze-play").addEventListener("click",w.play.bind(w)),document.getElementById("maze-login-play-btn").addEventListener("click",(()=>{w.audio.click.play(),setTimeout((()=>{document.getElementById("maze-login").classList.add("hide"),S()}),500)})),window.toggleModal=function(){document.querySelector(".modal").classList.toggle("show")}})()})();